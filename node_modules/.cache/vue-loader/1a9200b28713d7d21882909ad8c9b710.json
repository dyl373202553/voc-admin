{"remainingRequest":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\YaLiDai\\Desktop\\voc-admin\\src\\components\\public\\Architecture.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\src\\components\\public\\Architecture.vue","mtime":1600164703361},{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YaLiDai\\Desktop\\voc-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIEVtaXQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOw0KLy8gQHRzLWlnbm9yZQ0KaW1wb3J0IHsgZ2V0T3JnVHJlZSB9IGZyb20gIkBhL1VuaWZ5VXNlciINCkBDb21wb25lbnQNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyY2hpdGVjdHVyZSBleHRlbmRzIFZ1ZSB7DQogICAgcHJpdmF0ZSBzZWFyY2hWYWx1ZTogc3RyaW5nID0gIiINCiAgICBwcml2YXRlIGNoaWxkT3JnTGlzdDogYW55ID0gW10NCiAgICBwcml2YXRlIHNlbGVjdE9yZ0NvZGU6IHN0cmluZyA9ICIiDQogICAgcHJpdmF0ZSBzZWFyY2hEYXRhOiBhbnkgPSBbXQ0KDQogICAgcHJpdmF0ZSBhc3luYyBnZXRTdWJvcmRpbmF0ZShpdGVtOiBhbnkpIHsNCiAgICAgICAgaWYgKCIyMDAwMDAwMDAiICE9IGl0ZW0ub3JnQ29kZSkgew0KICAgICAgICAgICAgaXRlbS5pc1Nob3cgPSAhaXRlbS5pc1Nob3cNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0T3JnQ29kZSA9IGl0ZW0ub3JnQ29kZQ0KICAgICAgICAgICAgdGhpcy5zZW5kT3JnSXRlbShpdGVtKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTZWFyY2godmFsdWU6IGFueSkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSkNCiAgICAgICAgLy8gYXdhaXQNCiAgICB9DQoNCiAgICBwcml2YXRlIHNlbGVjdE9yZyhpdGVtOiBhbnkpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RPcmdDb2RlID0gaXRlbS5vcmdDb2RlDQogICAgICAgIHRoaXMuc2VuZE9yZ0l0ZW0oaXRlbSkNCiAgICB9DQoNCiAgICBwcml2YXRlIGFzeW5jIGdldE9yZygpIHsNCiAgICAgICAgbGV0IHsgZGF0YTogeyBjaGlsZE9yZ0xpc3QgfSB9ID0gYXdhaXQgZ2V0T3JnVHJlZSgpDQogICAgICAgIGZvciAobGV0IGkgaW4gY2hpbGRPcmdMaXN0KSB7DQogICAgICAgICAgICBjaGlsZE9yZ0xpc3RbaV0uaXNTaG93ID0gZmFsc2UNCiAgICAgICAgICAgIGNoaWxkT3JnTGlzdFtpXS5pc1NlbGVjdCA9IGZhbHNlDQoNCiAgICAgICAgICAgIGZvciAobGV0IGogaW4gY2hpbGRPcmdMaXN0W2ldLmNoaWxkT3JnTGlzdCkgew0KICAgICAgICAgICAgICAgIGNoaWxkT3JnTGlzdFtpXS5jaGlsZE9yZ0xpc3Rbal0uaXNTZWxlY3QgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIGNoaWxkT3JnTGlzdFtpXS5jaGlsZE9yZ0xpc3Rbal0uaXNTaG93ID0gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmNoaWxkT3JnTGlzdCA9IGNoaWxkT3JnTGlzdA0KICAgIH0NCg0KICAgIHByaXZhdGUgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5nZXRPcmcoKQ0KICAgIH0NCg0KICAgIEBFbWl0KCJzZWxlY3RPcmciKSBzZW5kT3JnSXRlbShpdGVtOiBhbnkpIHsgfQ0KfQ0K"},{"version":3,"sources":["Architecture.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Architecture.vue","sourceRoot":"src/components/public","sourcesContent":["<template>\r\n    <div class=\"Architecture\">\r\n        <Card :dis-hover=\"true\">\r\n            <div slot=\"title\" class=\"cartTitle\">组织架构</div>\r\n            <div slot=\"extra\" class=\"extraRight\">1</div>\r\n\r\n            <div>\r\n                <AutoComplete :transfer=\"true\" @on-search=\"handleSearch\" v-model=\"searchValue\" icon=\"ios-search\" placeholder=\"请输入\">\r\n                    <Option v-for=\"item in searchData\" :value=\"item\">{{ item.orgName }}</Option>\r\n                </AutoComplete>\r\n                <div v-for=\"item in childOrgList\">\r\n                    <div class=\"oneItemBox\" :class=\"{'selectOrg':selectOrgCode == item.orgCode}\" @click=\"getSubordinate(item)\">\r\n                        <div v-if=\"'200000000' != item.orgCode\" class=\"iconfont iconicon_xiaojiantou_shouqi\" :class=\"{'selected':item.isShow}\"></div>\r\n                        <div v-text=\"item.orgName\" class=\"orgName\"></div>\r\n                    </div>\r\n                    <!-- 二级 -->\r\n                    <div v-show=\"item.isShow\" class=\"twoItemBox\">\r\n                        <div class=\"oneItemBox\" :class=\"{'selectOrg':selectOrgCode == ite.orgCode}\" v-for=\"ite in item.childOrgList\" @click=\"selectOrg(ite)\">\r\n                            <div v-text=\"ite.orgName\" class=\"orgName\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Emit, Vue } from \"vue-property-decorator\";\r\n// @ts-ignore\r\nimport { getOrgTree } from \"@a/UnifyUser\"\r\n@Component\r\nexport default class Architecture extends Vue {\r\n    private searchValue: string = \"\"\r\n    private childOrgList: any = []\r\n    private selectOrgCode: string = \"\"\r\n    private searchData: any = []\r\n\r\n    private async getSubordinate(item: any) {\r\n        if (\"200000000\" != item.orgCode) {\r\n            item.isShow = !item.isShow\r\n        } else {\r\n            this.selectOrgCode = item.orgCode\r\n            this.sendOrgItem(item)\r\n        }\r\n    }\r\n\r\n    private async handleSearch(value: any) {\r\n        // console.log(value)\r\n        // await\r\n    }\r\n\r\n    private selectOrg(item: any) {\r\n        this.selectOrgCode = item.orgCode\r\n        this.sendOrgItem(item)\r\n    }\r\n\r\n    private async getOrg() {\r\n        let { data: { childOrgList } } = await getOrgTree()\r\n        for (let i in childOrgList) {\r\n            childOrgList[i].isShow = false\r\n            childOrgList[i].isSelect = false\r\n\r\n            for (let j in childOrgList[i].childOrgList) {\r\n                childOrgList[i].childOrgList[j].isSelect = false\r\n                childOrgList[i].childOrgList[j].isShow = false\r\n            }\r\n        }\r\n        this.childOrgList = childOrgList\r\n    }\r\n\r\n    private created() {\r\n        this.getOrg()\r\n    }\r\n\r\n    @Emit(\"selectOrg\") sendOrgItem(item: any) { }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.Architecture {\r\n    .cartTitle {\r\n        .fz(14px);\r\n        .color(#6f7e95);\r\n        .bold;\r\n    }\r\n\r\n    .extraRight {\r\n        .flex;\r\n    }\r\n\r\n    .iconfont {\r\n        .color(#D1D5DD);\r\n        .fz(12px);\r\n        transition: 0.5s;\r\n    }\r\n\r\n    .selected {\r\n        .color(#666);\r\n        transform: rotate(90deg);\r\n    }\r\n\r\n    .oneItemBox {\r\n        .flex;\r\n        .acenter;\r\n        .h_n(35px);\r\n        .hover_hand;\r\n        border-bottom: 1px dashed #cccccc;\r\n\r\n        .orgName {\r\n            .ml(5px);\r\n            .oneLine;\r\n        }\r\n    }\r\n\r\n    .selectOrg {\r\n        .bg(#F1F6FF);\r\n        .color(#4484f6);\r\n    }\r\n\r\n    .twoItemBox {\r\n        .pl(20px);\r\n    }\r\n}\r\n</style>"]}]}